<!DOCTYPE HTML>
<!--
	Vortex by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html>
	<head>
		<title>Untitled</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/shave/2.5.9/shave.min.js" integrity="sha512-so7wvmDSYsuNpVdh8PdO1oJ3XkFdDHCKnmgh9Zbpr7GKn0wy1K0fw+sLanHQoFB0O4uI40n6gYQ3n32Ss+4WAA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">

				<!-- Logo -->
					<div class="logo">
						<a href="index.html"><strong>Sharing Homilies</strong></a>
					</div>

				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li class="current"><a href="index.html">Home</a></li>
							<!--<li>
								<a href="#" class="icon solid fa-angle-down">Dropdown</a>
								<ul>
									<li><a href="#">Option One</a></li>
									<li><a href="#">Option Two</a></li>
									<li><a href="#">Option Three</a></li>
									<li>
										<a href="#">Submenu</a>
										<ul>
											<li><a href="#">Option One</a></li>
											<li><a href="#">Option Two</a></li>
											<li><a href="#">Option Three</a></li>
											<li><a href="#">Option Four</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li><a href="generic.html">Generic</a></li>
							<li><a href="elements.html">Elements</a></li>-->
						</ul>
					</nav>

			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Banner -->
					<section class="banner">
						<div class="image" data-position="right">
							<img src="images/banner.png" alt="" />
						</div>
						<div class="content">
                            <h1 id="banner_title"></h1>
							<ul class="actions special">
								<li><a href="#" class="button next">Today's Homilies</a></li>
							</ul>
						</div>
					</section>
                
                <!-- Section -->
					<section class="main style1">
						<header class="small">
							<h2>Recent Homilies</h2>
							<p>Below are a selection of recent homilies delivered by clergy all over the island of Ireland. Priests often tailor their homilies to local and global current events (such as GAA matches!) as well as adapt the message of the day's readings to modern life.</p>
						</header>
						<div class="inner">
							<div id="posts" class="posts"></div>
						</div>
					</section>

				<!-- Section -->
					<section class="main style1">
						<div class="image filtered" data-position="center">
							<img src="images/book.png" alt="" />
						</div>
						<header class="small">
							<h2>What is Sharing Homilies?</h2>
                            <p>Within these pages, we reflect upon the homilies delivered by the clergy all over Ireland. We attempt to draw interesting insights between the various parishes and counties across different seasons and liturgical events.<br/><br/>
                            Priests tailor homilies during mass to their respective congregation, interpreting the bible in ways which make it understandable and relatable in a modern world. The homilies are also sometimes influenced by events and happenings both locally and on a global scale. More often than not, the reach of these homilies is confined to the walls of the church.<br/><br/>
                            Our goal is to condense and transform the nuggets of wisdom and teachings into easily consumable bite-sized chunks of media as well as analyse how the themes of these homilies change through time and geography.</p>
						</header>
						<!--<div class="features">
							<section>
								<span class="icon solid fa-camera-retro major accent2"></span>
								<h3>Etiam</h3>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce eu lacus imperdiet, cursus erat vitae, dictum nulla.</p>
							</section>
							<section>
								<span class="icon fa-gem major accent3"></span>
								<h3>Aptent</h3>
								<p>Ut ultrices hendrerit dignissim euismod. Fusce a sem interdum, elementum quam vitae, hendrerit lorem eget.</p>
							</section>
							<section>
								<span class="icon fa-chart-bar major accent4"></span>
								<h3>Magna</h3>
								<p>Donec hendrerit, orci nec eleifend auctor, ipsum pharetra leo, eu imperdiet mauris sem id tellus. In at ex efficitur.</p>
							</section>
							<section>
								<span class="icon solid fa-rss major accent1"></span>
								<h3>Tempus</h3>
								<p>Faucibus ligula, ac blandit purus arcu non sed nibh. Nam aliquam in erat a ultricies. Vivamus leo est lorem finibus.</p>
							</section>
							<section>
								<span class="icon fa-comment-dots major accent2"></span>
								<h3>Aliquam</h3>
								<p>Fermentum integer laoreet sollicitudin tortor et consequat. Phasellus eu lectus. Sed libero quam vehicula eleifend.</p>
							</section>
							<section>
								<span class="icon fa-copy major accent3"></span>
								<h3>Euismod</h3>
								<p>Quisque nec mollis turpis. Phasellus sit amet magna ut quam lacinia interdum. Phasellus varius lobortis dui. </p>
							</section>
						</div>
						<footer>
							<ul class="actions special">
								<li><a href="#" class="button next">Magna Imperdiet</a></li>
							</ul>
						</footer>-->
					</section>


				<!-- Section -->
					<!--<section class="main style2">
						<header class="small">
							<h2>Get in touch</h2>
							<p>Elit dignissim nullam sagittis faucibus dui. Morbi vel nibh mauris. Sed convallis, odio ac posuere bibendum, odio elit bibendum magna, eu tempor diam nulla nec felis. Cras convallis tellus ac justo.</p>
						</header>
						<div class="inner special medium">
							<form action="#" method="post">
								<div class="fields">
									<div class="field half">
										<input name="name" id="name" placeholder="Name" type="text" />
									</div>
									<div class="field half">
										<input name="email" id="email" placeholder="Email" type="email" />
									</div>
									<div class="field">
										<textarea name="message" id="message" rows="8" placeholder="Message"></textarea>
									</div>
								</div>
								<ul class="actions special">
									<li><input value="Send Message" class="button next" type="submit" /></li>
								</ul>
							</form>

						</div>
						<footer>
							<ul class="icons">
								<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
								<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
								<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
								<li><a href="#" class="icon solid alt fa-phone"><span class="label">Phone</span></a></li>
								<li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
							</ul>
						</footer>
					</section>-->

			</div>

		<!-- Footer -->
			<footer id="footer">
				Copyright &copy; Sharing Homilies. All rights reserved.
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>        
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrender/1.0.4/jsrender.min.js"></script>

    <script>
        const timeElapsed = Date.now();
        const today = new Date(timeElapsed);
        
        var bannerString = "<i>{{:title_date}}</i><br/>{{:title}}"
        var bannerTemplate = $.templates(bannerString);
        var banner_data = { title_date: today.toLocaleDateString("en-GB"),
                                  title: "some title"}
        var html = bannerTemplate.render(banner_data)
        document.getElementById("banner_title").innerHTML = html
        
    </script>
    <script>
        function capitalize(s)
        {
            return s[0].toUpperCase() + s.slice(1);
        }
        /*
        <article>
            <a href="#" class="image filtered"><img src="images/pic01.jpg" alt="" /></a>
            <p><strong>Magna feugiat etiam</strong> ipsum dolor tempus amet, magna consectetur. Fusce eu lacus imperdiet.</p>
            <ul class="actions special">
                <li><a href="#" class="button small next">Details</a></li>
            </ul>
        </article>
        */ 
        var articleString = `
            <article>
                <a href="#" class="image filtered"><img src="{{:dalle}}" alt="" /></a>
                <p><strong>{{:churchName}} | {{:county}}</strong> <br/>
                    <i class="article-description">
                        {{:homily}}
                    </i>
                </p>
                <ul class="actions special">
                    <li><a href="/homily-detail.html?id={{:id}}" class="button small next">Details</a></li>
                </ul>
            </article>
        `
        
        fetch('./all_homilies.json')
            .then((response) => response.json())
            .then((homilies) => {
                recent_six = homilies.slice(0,6)
                console.log(recent_six)
                items = ''
                for(var item of recent_six){
                    var articleTempate = $.templates(articleString);
                    obj = {"homily": item.homily!=''?item.homily:'<br/><br/>...', "dalle": item.dalle[0],
                           "churchName": item.churchName.toUpperCase(), "county": capitalize(item.county),
                           "id": item.id}
                    var html = articleTempate.render(obj)
                    items += html
                }
                document.getElementById("posts").innerHTML = items
            }).then(()=>{
            
                shave(".article-description", 100);
        });
        
        
    </script>
</html>